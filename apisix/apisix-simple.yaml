routes:
  # Health Check Route
  - id: 1
    uri: /health
    name: "health-check-route"
    methods:
      - GET
    upstream:
      type: roundrobin
      nodes:
        "test-service:8080": 1
    plugins:
      cors:
        allow_origins: "*"
        allow_methods: "GET"
        allow_headers: "*"
        expose_headers: "*"
        max_age: 3600

  # Root Route
  - id: 2
    uri: /
    name: "root-route"
    methods:
      - GET
    upstream:
      type: roundrobin
      nodes:
        "test-service:8080": 1
    plugins:
      cors:
        allow_origins: "*"
        allow_methods: "GET"
        allow_headers: "*"
        expose_headers: "*"
        max_age: 3600

  # Test Service Route
  - id: 3
    uri: /test/*
    name: "test-service-route"
    methods:
      - GET
      - POST
      - PUT
      - DELETE
    upstream:
      type: roundrobin
      nodes:
        "test-service:8080": 1
    plugins:
      cors:
        allow_origins: "*"
        allow_methods: "GET,POST,PUT,DELETE,OPTIONS"
        allow_headers: "*"
        expose_headers: "*"
        max_age: 3600

# Global Plugins
plugins:
  - name: "cors"
    config:
      allow_origins: "*"
      allow_methods: "GET,POST,PUT,DELETE,OPTIONS"
      allow_headers: "*"
      expose_headers: "*"
      max_age: 3600
